<!DOCTYPE html>
<html class="um landscape min-width-240px min-width-320px min-width-480px min-width-768px min-width-1024px">

    <head>
        <title></title>
        <meta charset="utf-8">
        <meta name="viewport" content="target-densitydpi=device-dpi, width=device-width, initial-scale=1, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <link rel="stylesheet" href="css/fonts/font-awesome.min.css">
        <link rel="stylesheet" href="css/ui-box.css">
        <link rel="stylesheet" href="css/ui-base.css">
        <link rel="stylesheet" href="css/ui-color.css">
        <link rel="stylesheet" href="css/appcan.icon.css">
        <link rel="stylesheet" href="css/appcan.control.css">
        <link rel="stylesheet" href="index/css/swiper-bundle.min.css">
        <link rel="stylesheet" href="index/css/index.css">
        <link rel="stylesheet" href="index/font-awesome/css/font-awesome.min.css">       
		<link rel="stylesheet" href="main/css/main-test.css">
		<link rel="stylesheet" href="public_css/app-icon.css">
		<link rel="stylesheet" href="public_css/background-color.css">
    </head>

    <body class="" ontouchstart style="background-color: #FAFAFA;">

        <div data-control="PAGE">
            <div class="swiper-container">
                <div class="swiper-wrapper">
                    <!-- 第一个页面 -->
                    <div class="swiper-slide">
						<div class="diy-page-main">
							<!--    title    -->
							<div class="uh bc-head ubb bc-border diy-header-main" data-control="HEADER" id="Header">
								<div class="title-content">
									<div class="title-logo"></div>
									<h1 class="diy-title-main" tabindex="0">中铁建业务台账系统</h1>
								</div>
							</div>
							<div style="clear: both"></div>
							<!--     content       -->
							<div class="main-content">
								<!--     rotogram     -->
								<div class="main-content-autoplay">
									<ul class="rotogram">
										<li></li>
										<li></li>
										<li></li>
										<li></li>
									</ul>
								</div>
				
								<!--     操作列表     -->
								<div class="main-content-itemlist" style="margin-top: .6em">
									<div class="item" id="projectList">
									</div>
									<div class="item">
									</div>
									<div class="item">
									</div>
									<div class="item">
									</div>
								</div>
								<div class="main-content-itemlist" style="margin-bottom: .6em">
									<div class="item">
									</div>
									<div class="item">
									</div>
									<div class="item">
									</div>
									<div class="item">
									</div>
								</div>
								<div class="work-status">
									<div class="status-title">
										<h2>工作任务状态<br><small style="color: rgb(124,140,152)">Work Status</small></h2>
									</div>
									<div class="status-content">
										<p>待我处理：</p><span style="color: red">8</span><br/>
										<p>等待审核：</p><span>0</span><br/>
										<p>已完成：</p><span style="color: #007DB8">1</span>
									</div>
								</div>
							</div>
						</div>
                    </div>
					
                    <!-- 第二个页面 -->
                    <div class="swiper-slide diy-page-main">
						<div id="message"  class="ubt bc-border sc-bg bc-grey">
						</div>
                    </div>
					
					<!--  第三个页面  -->
                    <div class="swiper-slide">
						<div class="diy-tools">
							<div class="scrollbox">
								<div class="uinn-a7">
									<div class="ub ub-ver">
										<div class="t-gra-9f ulev-4 uinn-na">
											审核申请
										</div>
										<div id="listview4" class="ubt bc-border sc-bg" style="background-color: white">
										</div>
									</div>
									<div class="ub ub-ver">
										<div class="t-gra-9f ulev-4 uinn-na">
											表详情
										</div>
										<div id="listview5"  class="ubt bc-border sc-bg" style="background-color: white">

										</div>
									</div>
									<div class="ub ub-ver">
										<div class="t-gra-9f ulev-4 uinn-na">
											统计信息
										</div>
										<div id="listview6"  class="ubt bc-border sc-bg" style="background-color: white">
										</div>
									</div>
									   <div class="ub ub-ver">
                                        <div class="t-gra-9f ulev-4 uinn-na">
                                            费用详情
                                        </div>
                                        <div id="listview7"  class="ubt bc-border sc-bg" style="background-color: white">
                                        </div>
                                    </div>
									<br />
								</div>
							</div>
						</div>
                    </div>
                    <!-- 第四个页面 -->
                    <div class="swiper-slide bc-grey">
                        <div class="user-head">
                            <div class="container">
                                <div class="userImg" onclick="touserDetails()" style="cursor: pointer"></div>
                                <div style="font-size: 1.4em;font-weight: 600" class="userName"></div>
                            </div>
                        </div>
                         <div class="user-body">
                            <div id="listview_switch" style="background-color: white" class="sc-border sc-bg">
</div> 

                            <div id="listview"  class="ubt bc-border sc-bg" style="background-color: white;">
                            </div>

                        </div>
                    </div>
                </div>
                <!-- Add Pagination -->
                <div id="footer" class="swiper-pagination" style="background: rgb(255,255,255)"></div>
            </div>

        </div>

        <script src="js/appcan.js"></script>
        <script src="js/appcan.control.js"></script>
        <script src="js/appcan.scrollbox.js"></script>
        <script src="js/template.import.js"></script>
        <script src="./assets/mvvm/index.js"></script>
        <script src="./js/index.js"></script>
        <script src="index/js/swiper-bundle.min.js"></script>
        <script src="main/js/main.js"></script>
        <script src="js/appcan.listview.js"></script>
        <script src="projectList/js/projectList.js"></script>
		
        <script>

            var json = [
            {
                "name": "主页",
                "url": "fa fa-home"
            },{
                "name": "消息",
                "url": "fa fa-comment"
            },{
                "name": "综合",
                "url": "fa fa-align-justify"
            },{
                "name": "个人",
                "url": "fa fa-users"
            }]

            var swiper = new Swiper('.swiper-container', {pagination: {
                el: '.swiper-pagination',
                clickable: true,
                renderBullet: function (index, className) {
                // return '<span class="' + className + '">' + (index + 1) + '</span>';
                return '<div class="menu ' + className + '"> <i class="'+json[index].url+'" aria-hidden="true"></i> <div class="text">' + json[index].name + '</div></div>';
                },
            },});
        
            appcan.button(".nav-btn", "btn-act", function() {
                appcan.window.close(-1);
            })
       
            //判断是否登录
            var person = JSON.parse(localStorage.getItem("user"));
            for (var i=0; i < person.length; i++) {
                // console.log(person);
                if(person == null){
                    document.querySelector('.userName').innerHTML = "未登录";
                }else{
                    var index = localStorage.getItem('userId');
                    document.querySelector('.userName').innerHTML = person[index].username;
                }  
            };
              
             
            function touserDetails(){
                appcan.window.open({
                    name : 'userDetails',
                    data : 'userDetails.html',
                    anlid :2
                })
            }
            
            //个人页面
            var lv_switch=appcan.listview({
                selector : "#listview_switch",
                type : "thinLine",
                hasIcon : true,
                hasAngle : true,
                hasSubTitle : false,
                multiLine : 1,
                hasControl : true
            }).set([{
                title : "新消息通知",
                icon : "./css/res/icon-message-act.png",
                "switchBtn":{
                    mini:true,
                    value:false
                }
            }]);
            var lv = appcan.listview({
                selector : "#listview",
                type : "thinLine",
                hasIcon : true,
                hasAngle : true,
                hasSubTitle : true,
                multiLine : 1,
            });
            lv.set([{
                title : "修改密码",
                icon:"./css/res/icon-edit-act.png",
                note :'1',
                id:"myInfo"
            }, {
                title : "设置",
                icon:"./css/res/icon-setting-act.png",
                note :'3',
                id:"about"
            }, {
                title : "关于",
                icon:"./css/res/icon-warn-act.png",
                note :'4',
                id:"about"
            },{
                title : "退出登录",
                icon:"./css/res/icon-close-act.png",
                note :'5',
                id:"login"
            }]) 
            //列表的点击触发事件
            lv.on("click",function(ele,obj,curEle){
                //将数据存储在本地
                localStorage.setItem("yemian",obj.title);
                var id = obj.id;
                appcan.window.open({
                    name : id,
                    data : id + '.html',
                    anlid :2
                })
               
            })
 
            //消息页面
            var lv = appcan.listview({
                selector : "#message",
                type : "thickLine",
                hasIcon : true,
                hasAngle : false,
                hasSubTitle : true,
                multiLine : 1,
            });

            var json2 =[{
                    title : "工资",
                    describe:"这个月的工资已下发，请大家留意一下。",
                    subTitle:"14:31",
                    icon:"index/img/img01.png",
                    id:"1",
                },{
                    title : "项目3进度",
                    describe:"项目3已进行过半，加油努力干！",
                    icon:"index/img/img02.png",
                    subTitle:"09:31",
                    id:"2"
                },{
                    title : "好消息",
                    describe:"项目1已顺利完工。",
                    icon:"index/img/img03.jpeg",
                    subTitle:"昨天",
                    id:"3"
                },{
                    title : "重大消息！！！",
                    describe:"小明携手小蓝完成项目4的竞标。",
                    subTitle:"9-19",
                    icon:"index/img/img04.jpeg",
                    id:"4"
                },{
                    title : "最新任务",
                    describe:"请大家打起精神迎接新的挑战...",
                    subTitle:"9-17",
                    icon:"index/img/img05.jpeg",
                    id:"5"
                },{
                    title : "十月份团建",
                    describe:"爬山走起！",
                    subTitle:"9-15",
                    icon:"index/img/img06.jpeg",
                    id:"6"
                }]
                
                lv.set(json2)
                
                lv.on("click",function(ele,obj,curEle){
                     element = document.getElementsByClassName('lazy lis-icon ub-img');
                     // console.log(element[obj.id-1])
                     // console.log(obj.id)
                     switch(obj.id-1){
                         case 0:
                            element[0].style.background = "url(index/img/img01_click.png)";
                            element[0].style.backgroundSize = "cover";
                            //console.log(element[0]);
                            break;
                         case 1:
                            element[1].style.background = "url(index/img/img02_click.png)";
                            element[1].style.backgroundSize = "cover";
                            break;
                         default:
                            break;
                     }   
                })

			//  第三个页面
			var lv = appcan.listview({
				selector : "#listview4",
				type : "thinLine",
				hasIcon : true,
				hasAngle : true,
				hasSubTitle : true,
				multiLine : 1,
			});
			lv.set([
			// 		{
			// 	title : "财务报表",
			// 	icon:"./css/res/caiwu.png",
			// 	id:"1",
			// 	name:"caiwu"
			// }, {
			// 	title : "伙食表",
			// 	icon:"./css/res/huoshi.png",
			// 	id:"2",
			// 	name: "huoshi "
			// },
				{
				title : "产值量对账单表",
				icon:"./css/res/chart.png",
				id:"3",
				name:"statement-list"
			}])
			lv.on("click",function(ele,obj,curEle){
				var Hname =obj.name;
				appcan.window.open({
					name: Hname,
					data: Hname+'.html',
					aniId:8
				});
			})
            //表详情
			var lv = appcan.listview({
				selector : "#listview5",
				type : "thinLine",
				hasIcon : true,
				hasAngle : true,
				hasSubTitle : true,
				multiLine : 1,
			});
			lv.set([{
				title : "工资表",
				icon:"./css/res/money3.png",
				id:"wagesList"
			}, {
				title : "借支表",
				icon:"./css/res/form.png",
				id:"advancePayList"
			}])
			lv.on("click",function(ele,obj,curEle){
			    appcan.window.open({
                     name:obj.id,
                     data:obj.id + ".html",
                     aniId:10
                });
			})
			//人员信息
			var lv = appcan.listview({
				selector : "#listview6",
				type : "thinLine",
				hasIcon : true,
				hasAngle : true,
				hasSubTitle : true,
				multiLine : 1,
			});
			lv.set([{
				title : "人员信息",
				icon:"./css/res/peoples.png",
				id:"6"
			}])
			lv.on("click",function(ele,obj,curEle){
			    appcan.window.open({
                        name:'personInfo',
                        data:'personInfo.html',
                        aniId:10
                    });
			})
			var lv = appcan.listview({
                selector : "#listview7",
                type : "thinLine",
                hasIcon : true,
                hasAngle : true,
                hasSubTitle : true,
                multiLine : 1,
            });
            lv.set([{
                title : "费用详情",
                icon:"./css/res/peoples.png",
                id:"6"
            }])
            lv.on("click",function(ele,obj,curEle){
                appcan.window.open({
                        name:'cost1',
                        data:'cost1.html',
                        aniId:10
                    });
            })
        </script>
 </body>

</html>